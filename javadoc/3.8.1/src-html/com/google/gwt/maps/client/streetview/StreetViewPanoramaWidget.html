<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
<title>Source code</title>
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
</head>
<body>
<div class="sourceContainer">
<pre><span class="sourceLineNo">001</span>package com.google.gwt.maps.client.streetview;<a name="line.1"></a>
<span class="sourceLineNo">002</span><a name="line.2"></a>
<span class="sourceLineNo">003</span>import com.google.gwt.core.client.JsArray;<a name="line.3"></a>
<span class="sourceLineNo">004</span>import com.google.gwt.dom.client.Element;<a name="line.4"></a>
<span class="sourceLineNo">005</span>import com.google.gwt.event.shared.HandlerRegistration;<a name="line.5"></a>
<span class="sourceLineNo">006</span>import com.google.gwt.maps.client.base.LatLng;<a name="line.6"></a>
<span class="sourceLineNo">007</span>import com.google.gwt.maps.client.events.closeclick.CloseClickMapHandler;<a name="line.7"></a>
<span class="sourceLineNo">008</span>import com.google.gwt.maps.client.events.links.LinksChangeMapHandler;<a name="line.8"></a>
<span class="sourceLineNo">009</span>import com.google.gwt.maps.client.events.pano.PanoChangeMapHandler;<a name="line.9"></a>
<span class="sourceLineNo">010</span>import com.google.gwt.maps.client.events.position.PositionChangeMapHandler;<a name="line.10"></a>
<span class="sourceLineNo">011</span>import com.google.gwt.maps.client.events.pov.PovChangeMapHandler;<a name="line.11"></a>
<span class="sourceLineNo">012</span>import com.google.gwt.maps.client.events.resize.ResizeMapHandler;<a name="line.12"></a>
<span class="sourceLineNo">013</span>import com.google.gwt.maps.client.events.visible.VisibleChangeMapHandler;<a name="line.13"></a>
<span class="sourceLineNo">014</span>import com.google.gwt.maps.client.mvc.MVCArray;<a name="line.14"></a>
<span class="sourceLineNo">015</span>import com.google.gwt.maps.client.mvc.MVCObjectWidget;<a name="line.15"></a>
<span class="sourceLineNo">016</span>import com.google.gwt.user.client.DOM;<a name="line.16"></a>
<span class="sourceLineNo">017</span><a name="line.17"></a>
<span class="sourceLineNo">018</span>/**<a name="line.18"></a>
<span class="sourceLineNo">019</span> * Displays the panorama for a given LatLng or panorama ID. A StreetViewPanorama object provides a Street View "viewer" which can be stand-alone within a separate &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; or bound to a Map. This class extends MVCObject.<a name="line.19"></a>
<span class="sourceLineNo">020</span> * &lt;br&gt;&lt;br&gt;<a name="line.20"></a>
<span class="sourceLineNo">021</span> * See &lt;a href="https://developers.google.com/maps/documentation/javascript/reference#StreetViewPanorama"&gt;StreetViewPanorama API Doc&lt;/a&gt;<a name="line.21"></a>
<span class="sourceLineNo">022</span> */<a name="line.22"></a>
<span class="sourceLineNo">023</span>public class StreetViewPanoramaWidget extends MVCObjectWidget&lt;StreetViewPanoramaImpl&gt; {<a name="line.23"></a>
<span class="sourceLineNo">024</span>  <a name="line.24"></a>
<span class="sourceLineNo">025</span>  private StreetViewPanoramaImpl impl;<a name="line.25"></a>
<span class="sourceLineNo">026</span><a name="line.26"></a>
<span class="sourceLineNo">027</span>  /**<a name="line.27"></a>
<span class="sourceLineNo">028</span>   * create widget from a previous jso implementation<a name="line.28"></a>
<span class="sourceLineNo">029</span>   * @param impl<a name="line.29"></a>
<span class="sourceLineNo">030</span>   */<a name="line.30"></a>
<span class="sourceLineNo">031</span>  public static StreetViewPanoramaWidget newInstance(StreetViewPanoramaImpl impl) {<a name="line.31"></a>
<span class="sourceLineNo">032</span>    return new StreetViewPanoramaWidget(impl);<a name="line.32"></a>
<span class="sourceLineNo">033</span>  }<a name="line.33"></a>
<span class="sourceLineNo">034</span>  <a name="line.34"></a>
<span class="sourceLineNo">035</span>  /**<a name="line.35"></a>
<span class="sourceLineNo">036</span>   * Displays the panorama for a given LatLng or panorama ID. A StreetViewPanorama object provides a Street View "viewer" which can be stand-alone within a separate &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; or bound to a Map. This class extends MVCObject.<a name="line.36"></a>
<span class="sourceLineNo">037</span>   */<a name="line.37"></a>
<span class="sourceLineNo">038</span>  public StreetViewPanoramaWidget(StreetViewPanoramaOptions options) {<a name="line.38"></a>
<span class="sourceLineNo">039</span>    Element div = DOM.createDiv();<a name="line.39"></a>
<span class="sourceLineNo">040</span>    setElement(div);<a name="line.40"></a>
<span class="sourceLineNo">041</span>    impl = StreetViewPanoramaImpl.newInstance(div, options);<a name="line.41"></a>
<span class="sourceLineNo">042</span>    setStyleName("gwt-map-StreetViewPanoramaWidget-div");<a name="line.42"></a>
<span class="sourceLineNo">043</span>  }<a name="line.43"></a>
<span class="sourceLineNo">044</span>  <a name="line.44"></a>
<span class="sourceLineNo">045</span>  /**<a name="line.45"></a>
<span class="sourceLineNo">046</span>   * create a widget from a previous jso implementation<a name="line.46"></a>
<span class="sourceLineNo">047</span>   * @param impl<a name="line.47"></a>
<span class="sourceLineNo">048</span>   */<a name="line.48"></a>
<span class="sourceLineNo">049</span>  private StreetViewPanoramaWidget(StreetViewPanoramaImpl impl) {<a name="line.49"></a>
<span class="sourceLineNo">050</span>    this.impl = impl;<a name="line.50"></a>
<span class="sourceLineNo">051</span>    Element div = DOM.createDiv(); // setup a new div only option.<a name="line.51"></a>
<span class="sourceLineNo">052</span>    setElement(div);<a name="line.52"></a>
<span class="sourceLineNo">053</span>    setStyleName("gwt-map-StreetViewPanoramaWidget-div");<a name="line.53"></a>
<span class="sourceLineNo">054</span>  }<a name="line.54"></a>
<span class="sourceLineNo">055</span>  <a name="line.55"></a>
<span class="sourceLineNo">056</span>  /**<a name="line.56"></a>
<span class="sourceLineNo">057</span>   * get the JavaScriptObject overlay<a name="line.57"></a>
<span class="sourceLineNo">058</span>   */<a name="line.58"></a>
<span class="sourceLineNo">059</span>  public StreetViewPanoramaImpl getJso() {<a name="line.59"></a>
<span class="sourceLineNo">060</span>    return impl;<a name="line.60"></a>
<span class="sourceLineNo">061</span>  };<a name="line.61"></a>
<span class="sourceLineNo">062</span><a name="line.62"></a>
<span class="sourceLineNo">063</span>  /**<a name="line.63"></a>
<span class="sourceLineNo">064</span>   * Returns the set of navigation links for the Street View panorama.<a name="line.64"></a>
<span class="sourceLineNo">065</span>   */<a name="line.65"></a>
<span class="sourceLineNo">066</span>  public JsArray&lt;StreetViewLink&gt; getLinks() {<a name="line.66"></a>
<span class="sourceLineNo">067</span>    return impl.getLinks();<a name="line.67"></a>
<span class="sourceLineNo">068</span>  };<a name="line.68"></a>
<span class="sourceLineNo">069</span>  <a name="line.69"></a>
<span class="sourceLineNo">070</span>  /**<a name="line.70"></a>
<span class="sourceLineNo">071</span>   * Returns the current panorama ID for the Street View panorama. This id is stable within the browser's current session only.<a name="line.71"></a>
<span class="sourceLineNo">072</span>   */<a name="line.72"></a>
<span class="sourceLineNo">073</span>  public String getPano() {<a name="line.73"></a>
<span class="sourceLineNo">074</span>    return impl.getPano();<a name="line.74"></a>
<span class="sourceLineNo">075</span>  };<a name="line.75"></a>
<span class="sourceLineNo">076</span>  <a name="line.76"></a>
<span class="sourceLineNo">077</span>  /**<a name="line.77"></a>
<span class="sourceLineNo">078</span>   * Returns the current LatLng position for the Street View panorama.<a name="line.78"></a>
<span class="sourceLineNo">079</span>   */<a name="line.79"></a>
<span class="sourceLineNo">080</span>  public LatLng getPosition() {<a name="line.80"></a>
<span class="sourceLineNo">081</span>    return impl.getPosition();<a name="line.81"></a>
<span class="sourceLineNo">082</span>  };<a name="line.82"></a>
<span class="sourceLineNo">083</span>  <a name="line.83"></a>
<span class="sourceLineNo">084</span>  /**<a name="line.84"></a>
<span class="sourceLineNo">085</span>   * Returns the current point of view for the Street View panorama.<a name="line.85"></a>
<span class="sourceLineNo">086</span>   */<a name="line.86"></a>
<span class="sourceLineNo">087</span>  public StreetViewPov getPov() {<a name="line.87"></a>
<span class="sourceLineNo">088</span>    return impl.getPov();<a name="line.88"></a>
<span class="sourceLineNo">089</span>  };<a name="line.89"></a>
<span class="sourceLineNo">090</span>  <a name="line.90"></a>
<span class="sourceLineNo">091</span>  /**<a name="line.91"></a>
<span class="sourceLineNo">092</span>   * Returns true if the panorama is visible. It does not specify whether Street View imagery is available at the specified position.<a name="line.92"></a>
<span class="sourceLineNo">093</span>   */<a name="line.93"></a>
<span class="sourceLineNo">094</span>  public boolean getVisible() {<a name="line.94"></a>
<span class="sourceLineNo">095</span>    return impl.getVisible();<a name="line.95"></a>
<span class="sourceLineNo">096</span>  };<a name="line.96"></a>
<span class="sourceLineNo">097</span>  <a name="line.97"></a>
<span class="sourceLineNo">098</span>  /**<a name="line.98"></a>
<span class="sourceLineNo">099</span>   * Set the custom panorama provider called on pano change to load custom panoramas.<a name="line.99"></a>
<span class="sourceLineNo">100</span>   * @param provider<a name="line.100"></a>
<span class="sourceLineNo">101</span>   */<a name="line.101"></a>
<span class="sourceLineNo">102</span>  public void registerPanoProvider(StreetViewPanoramaProvider provider) {<a name="line.102"></a>
<span class="sourceLineNo">103</span>    impl.registerPanoProvider(provider);<a name="line.103"></a>
<span class="sourceLineNo">104</span>  };<a name="line.104"></a>
<span class="sourceLineNo">105</span>  <a name="line.105"></a>
<span class="sourceLineNo">106</span>  /**<a name="line.106"></a>
<span class="sourceLineNo">107</span>   * Sets the current panorama ID for the Street View panorama.<a name="line.107"></a>
<span class="sourceLineNo">108</span>   * @param pano<a name="line.108"></a>
<span class="sourceLineNo">109</span>   */<a name="line.109"></a>
<span class="sourceLineNo">110</span>  public void setPano(String pano) {<a name="line.110"></a>
<span class="sourceLineNo">111</span>    impl.setPano(pano);<a name="line.111"></a>
<span class="sourceLineNo">112</span>  };<a name="line.112"></a>
<span class="sourceLineNo">113</span>  <a name="line.113"></a>
<span class="sourceLineNo">114</span>  /**<a name="line.114"></a>
<span class="sourceLineNo">115</span>   * Sets the current LatLng position for the Street View panorama.<a name="line.115"></a>
<span class="sourceLineNo">116</span>   * @param latlng<a name="line.116"></a>
<span class="sourceLineNo">117</span>   */<a name="line.117"></a>
<span class="sourceLineNo">118</span>  public void setPosition(LatLng latlng) {<a name="line.118"></a>
<span class="sourceLineNo">119</span>    impl.setPosition(latlng);<a name="line.119"></a>
<span class="sourceLineNo">120</span>  };<a name="line.120"></a>
<span class="sourceLineNo">121</span>  <a name="line.121"></a>
<span class="sourceLineNo">122</span>  /**<a name="line.122"></a>
<span class="sourceLineNo">123</span>   * Sets the point of view for the Street View panorama.<a name="line.123"></a>
<span class="sourceLineNo">124</span>   * @param pov<a name="line.124"></a>
<span class="sourceLineNo">125</span>   */<a name="line.125"></a>
<span class="sourceLineNo">126</span>  public void setPov(StreetViewPov pov) {<a name="line.126"></a>
<span class="sourceLineNo">127</span>    impl.setPov(pov);<a name="line.127"></a>
<span class="sourceLineNo">128</span>  };<a name="line.128"></a>
<span class="sourceLineNo">129</span>  <a name="line.129"></a>
<span class="sourceLineNo">130</span>  /**<a name="line.130"></a>
<span class="sourceLineNo">131</span>   * Sets to true to make the panorama visible. If set to false, the panorama will be hidden whether it is embedded in the map or in its own &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt;.<a name="line.131"></a>
<span class="sourceLineNo">132</span>   * @param visible<a name="line.132"></a>
<span class="sourceLineNo">133</span>   */<a name="line.133"></a>
<span class="sourceLineNo">134</span>  public void setVisible(boolean visible) {<a name="line.134"></a>
<span class="sourceLineNo">135</span>    impl.setVisible(visible);<a name="line.135"></a>
<span class="sourceLineNo">136</span>  };<a name="line.136"></a>
<span class="sourceLineNo">137</span>  <a name="line.137"></a>
<span class="sourceLineNo">138</span>  <a name="line.138"></a>
<span class="sourceLineNo">139</span>  <a name="line.139"></a>
<span class="sourceLineNo">140</span>  <a name="line.140"></a>
<span class="sourceLineNo">141</span>  /**<a name="line.141"></a>
<span class="sourceLineNo">142</span>   * TODO<a name="line.142"></a>
<span class="sourceLineNo">143</span>   * Additional controls to attach to the panorama. To add a control to the panorama, add the control's &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; to the MVCArray corresponding to the ControlPosition where it should be rendered.<a name="line.143"></a>
<span class="sourceLineNo">144</span>   * @param controls<a name="line.144"></a>
<span class="sourceLineNo">145</span>   */<a name="line.145"></a>
<span class="sourceLineNo">146</span>  public void setControls(MVCArray&lt;Element&gt; controls) { <a name="line.146"></a>
<span class="sourceLineNo">147</span>    //    impl.controls = controls; //TODO<a name="line.147"></a>
<span class="sourceLineNo">148</span>  }<a name="line.148"></a>
<span class="sourceLineNo">149</span><a name="line.149"></a>
<span class="sourceLineNo">150</span><a name="line.150"></a>
<span class="sourceLineNo">151</span><a name="line.151"></a>
<span class="sourceLineNo">152</span><a name="line.152"></a>
<span class="sourceLineNo">153</span><a name="line.153"></a>
<span class="sourceLineNo">154</span>  /**<a name="line.154"></a>
<span class="sourceLineNo">155</span>   * This event is fired when the close button is clicked.<a name="line.155"></a>
<span class="sourceLineNo">156</span>   * @param handler<a name="line.156"></a>
<span class="sourceLineNo">157</span>   */<a name="line.157"></a>
<span class="sourceLineNo">158</span>  public HandlerRegistration addCloseClickHandler(CloseClickMapHandler handler) {<a name="line.158"></a>
<span class="sourceLineNo">159</span>    return impl.addCloseClickHandler(handler);<a name="line.159"></a>
<span class="sourceLineNo">160</span>  }<a name="line.160"></a>
<span class="sourceLineNo">161</span>  <a name="line.161"></a>
<span class="sourceLineNo">162</span>  /**<a name="line.162"></a>
<span class="sourceLineNo">163</span>   * This event is fired when the panorama's links change. The links change asynchronously following a pano id change.<a name="line.163"></a>
<span class="sourceLineNo">164</span>   * @param handler<a name="line.164"></a>
<span class="sourceLineNo">165</span>   */<a name="line.165"></a>
<span class="sourceLineNo">166</span>  public HandlerRegistration addLinksChangeHandler(LinksChangeMapHandler handler) {<a name="line.166"></a>
<span class="sourceLineNo">167</span>    return impl.addLinksChangeHandler(handler);<a name="line.167"></a>
<span class="sourceLineNo">168</span>  }<a name="line.168"></a>
<span class="sourceLineNo">169</span> <a name="line.169"></a>
<span class="sourceLineNo">170</span>  /**<a name="line.170"></a>
<span class="sourceLineNo">171</span>   * This event is fired when the panorama's pano id changes. The pano may change as the user navigates through the panorama or the position is manually set. Note that not all position changes trigger a pano_changed.<a name="line.171"></a>
<span class="sourceLineNo">172</span>   * @param handler<a name="line.172"></a>
<span class="sourceLineNo">173</span>   */<a name="line.173"></a>
<span class="sourceLineNo">174</span>  public HandlerRegistration addPanoChangeHandler(PanoChangeMapHandler handler) {<a name="line.174"></a>
<span class="sourceLineNo">175</span>    return impl.addPanoChangeHandler(handler);<a name="line.175"></a>
<span class="sourceLineNo">176</span>  }<a name="line.176"></a>
<span class="sourceLineNo">177</span>  <a name="line.177"></a>
<span class="sourceLineNo">178</span>  /**<a name="line.178"></a>
<span class="sourceLineNo">179</span>   * This event is fired when the panorama's position changes. The position changes as the user navigates through the panorama or the position is set manually.<a name="line.179"></a>
<span class="sourceLineNo">180</span>   * @param handler<a name="line.180"></a>
<span class="sourceLineNo">181</span>   */<a name="line.181"></a>
<span class="sourceLineNo">182</span>  public HandlerRegistration addPositionChangeHandler(PositionChangeMapHandler handler) {<a name="line.182"></a>
<span class="sourceLineNo">183</span>    return impl.addPositionChangeHandler(handler);<a name="line.183"></a>
<span class="sourceLineNo">184</span>  }<a name="line.184"></a>
<span class="sourceLineNo">185</span>  <a name="line.185"></a>
<span class="sourceLineNo">186</span>  /**<a name="line.186"></a>
<span class="sourceLineNo">187</span>   * This event is fired when the panorama's point-of-view changes. The point of view changes as the pitch, zoom, or heading changes.<a name="line.187"></a>
<span class="sourceLineNo">188</span>   * @param handler<a name="line.188"></a>
<span class="sourceLineNo">189</span>   */<a name="line.189"></a>
<span class="sourceLineNo">190</span>  public HandlerRegistration addPovChangeHandler(PovChangeMapHandler handler) {<a name="line.190"></a>
<span class="sourceLineNo">191</span>    return impl.addPovChangeHandler(handler);<a name="line.191"></a>
<span class="sourceLineNo">192</span>  }<a name="line.192"></a>
<span class="sourceLineNo">193</span>  <a name="line.193"></a>
<span class="sourceLineNo">194</span>  /**<a name="line.194"></a>
<span class="sourceLineNo">195</span>   * Developers should trigger this event on the panorama when its div changes size: google.maps.event.trigger(panorama, 'resize').<a name="line.195"></a>
<span class="sourceLineNo">196</span>   * @param handler<a name="line.196"></a>
<span class="sourceLineNo">197</span>   */<a name="line.197"></a>
<span class="sourceLineNo">198</span>  public HandlerRegistration addResizeHandler(ResizeMapHandler handler) {<a name="line.198"></a>
<span class="sourceLineNo">199</span>    return impl.addResizeHandler(handler);<a name="line.199"></a>
<span class="sourceLineNo">200</span>  }<a name="line.200"></a>
<span class="sourceLineNo">201</span>  <a name="line.201"></a>
<span class="sourceLineNo">202</span>  /**<a name="line.202"></a>
<span class="sourceLineNo">203</span>   * This event is fired when the panorama's visibility changes. The visibility is changed when the Pegman id dragged onto the map, the close button is clicked, or setVisible() is called.<a name="line.203"></a>
<span class="sourceLineNo">204</span>   * @param handler<a name="line.204"></a>
<span class="sourceLineNo">205</span>   */<a name="line.205"></a>
<span class="sourceLineNo">206</span>  public HandlerRegistration addVisibleChangeHandler(VisibleChangeMapHandler handler) {<a name="line.206"></a>
<span class="sourceLineNo">207</span>    return impl.addVisibleChangeHandler(handler);<a name="line.207"></a>
<span class="sourceLineNo">208</span>  }<a name="line.208"></a>
<span class="sourceLineNo">209</span>}<a name="line.209"></a>




























































</pre>
</div>
</body>
</html>
